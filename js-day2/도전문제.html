<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도전문제 - [구조분해, spread연산]</title>
  </head>
  <body>
    <script type="text/javascript">
      let items = [
        { id: 1, name: "벤치프레스", count: 10 },
        { id: 2, name: "랫풀다운", count: 12 },
        { id: 3, name: "스쿼트", count: 30 },
      ];
      // 추가하기 - 전개연산자
      let add = (a, b, c) => {
        items = [...items, { id: a, name: b, count: c }];
        return items;
      };
      items = add(4, "데드리프트", 10);

      // 삭제하기 - filter함수
      let result = window.prompt("삭제하고자 하는 id를 입력하세요.");
      alert("사용자가 선택한 아이디는 " + result + "입니다");
      let del = (result) => {
        const delresult = items.filter((item) => item.id != result);
        return delresult;
      };
      let delresult = del(result);

      // 수정하기 - 추가하기 동일하게 처리
      let upd = (a, b, c) => {
        const num = items.findIndex((item) => item.id == a);
        let copyArray = [...items];
        if (num != -1) {
          copyArray[num] = { ...copyArray[num], name: b, count: c };
        }
        return copyArray;
      };

      // 조회하기 - forEach
      let search = (arr) => {
        document.write("<div>");
        document.write("<table border='1' borderColor='green'>");
        arr.forEach((item) => {
          document.write("<tr>");
          document.write(`<td>${item.id}</td>`);
          document.write(`<td>${item.name}</td>`);
          document.write(`<td>${item.count}</td>`);
          document.write("</tr>");
        });
        document.write("</table>");
        document.write("</div>");
      };

      search(items);
      search(delresult);
      // search(result);
      // search(items);
    </script>
  </body>
</html>
